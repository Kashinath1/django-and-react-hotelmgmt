{"ast":null,"code":"import _defineProperty from\"E:/final project merostay/env/core/Inner_hotel-development/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/final project merostay/env/core/Inner_hotel-development/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/final project merostay/env/core/Inner_hotel-development/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Footer from\"../components/footer\";import Header from\"../components/header\";import{Box,Container,Grid,Button,Paper}from\"@material-ui/core\";import axios from\"axios\";import{Jsonconfig}from\"../../constant/config\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(LoginPage,{}),/*#__PURE__*/_jsx(Footer,{})]});};var LoginPage=function LoginPage(){var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),userLogin=_useState2[0],setUserLogin=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var handleLogin=function handleLogin(e){var name=e.target.name;var value=e.target.value;console.log(name,value);setUserLogin(_objectSpread(_objectSpread({},userLogin),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var Data={\"username\":userLogin.username,\"password\":userLogin.password};var config={Jsonconfig:Jsonconfig};axios.post(\"http://127.0.0.1:8000/api/login/\",Data,config).then(function(res){console.log(res);navigate(\"/\");}).catch(function(err){console.log(err);setError('Invalid Username or Password!');});};return/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(Box,{className:\"login\",component:Paper,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Box,{className:\"login-form-box\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"login-name\",children:\"UserName*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"username\",autoComplete:\"off\",name:\"username\",id:\"username\",value:userLogin.username,onChange:handleLogin,className:\"login-name-box\"})]}),/*#__PURE__*/_jsxs(Box,{className:\"login-form-box\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"login-name\",children:\"Password*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",autoComplete:\"off\",name:\"password\",id:\"password\",value:userLogin.password,onChange:handleLogin,className:\"login-name-box\"})]}),/*#__PURE__*/_jsx(Box,{className:\"login-button\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"login-submit-btn\",children:\"Log In\"})}),error?/*#__PURE__*/_jsx(\"label\",{className:\"invalid\",children:error}):null]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4})]})})});};export default Login;","map":{"version":3,"names":["React","useState","Footer","Header","Box","Container","Grid","Button","Paper","axios","Jsonconfig","useNavigate","Login","LoginPage","navigate","username","password","userLogin","setUserLogin","error","setError","handleLogin","e","name","target","value","console","log","handleSubmit","preventDefault","Data","config","post","then","res","catch","err"],"sources":["E:/final project merostay/env/core/Inner_hotel-development/src/website/screens/login.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport Footer from \"../components/footer\";\nimport Header from \"../components/header\";\nimport { Box, Container, Grid, Button, Paper } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { Jsonconfig } from \"../../constant/config\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Login = () =>{\n    return(\n        <>\n        <Header />\n        <LoginPage />\n        <Footer />\n        </>\n    )\n}\nconst LoginPage = () =>{\n    const navigate = useNavigate();\n    const[userLogin, setUserLogin] = useState({\n        username:\"\",\n        password:\"\",\n    });\n    const [error,setError]=useState();\n    const handleLogin = (e) =>{\n        const name = e.target.name;\n        const value = e.target.value;\n        console.log(name, value);\n\n        setUserLogin({...userLogin, [name]: value});\n    }\n\n    const handleSubmit = (e) =>{\n        e.preventDefault();\n        const Data = {\n            \"username\":userLogin.username,\n            \"password\":userLogin.password,\n        }\n        const config = {Jsonconfig};\n        axios.post(`http://127.0.0.1:8000/api/login/`,Data,config)\n        .then((res)=>{\n           console.log(res);\n           navigate(\"/\");\n         })\n          .catch((err)=>{\n           console.log(err);\n           setError('Invalid Username or Password!')\n        })\n    }\n    return(\n        <Box>\n        <Container>\n        <Grid container spacing = {2}>\n        <Grid item xs={4} ></Grid>\n            <Grid item xs={4}>\n            <Box className=\"login\" component={Paper}>\n            <form onSubmit={handleSubmit}>\n                <Box className=\"login-form-box\">\n                    <label htmlFor=\"email\" className=\"login-name\">\n                        UserName*\n                    </label>\n                    <input \n                      type=\"username\" \n                      autoComplete=\"off\" \n                      name=\"username\" \n                      id=\"username\" \n                      value={userLogin.username} \n                      onChange={handleLogin} \n                      className=\"login-name-box\"  \n                    />\n                </Box>\n\n                <Box className=\"login-form-box\">\n                    <label htmlFor=\"password\" className=\"login-name\">\n                        Password*\n                    </label>\n                    <input \n                      type=\"password\" \n                      autoComplete=\"off\" \n                      name=\"password\" \n                      id=\"password\" \n                      value={userLogin.password} \n                      onChange={handleLogin} \n                      className=\"login-name-box\" \n                     />\n                </Box>\n                <Box className=\"login-button\">\n                    <Button type=\"submit\" className=\"login-submit-btn\">Log In</Button>\n                </Box>\n                {error?<label className=\"invalid\">{error}</label>:null}\n            </form>\n        </Box>\n            </Grid>\n            <Grid item xs={4}></Grid>\n        </Grid>\n        </Container>\n    </Box>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}