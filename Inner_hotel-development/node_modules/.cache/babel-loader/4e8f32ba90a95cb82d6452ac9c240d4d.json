{"ast":null,"code":"import _defineProperty from\"E:/final project merostay/env/core/Inner_hotel-development/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/final project merostay/env/core/Inner_hotel-development/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/final project merostay/env/core/Inner_hotel-development/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Footer from\"../components/footer\";import Header from\"../components/header\";import{Box,Button,Container,Grid,Paper,Typography}from\"@material-ui/core\";import{Jsonconfig}from\"../../constant/config\";import axios from\"axios\";import{Link}from\"react-router-dom\";import Cookies from\"js-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(RegisterPage,{}),/*#__PURE__*/_jsx(Footer,{})]});};var RegisterPage=function RegisterPage(){var _useState=useState({username:\"\",email:\"\",password:\"\",cpassword:\"\"}),_useState2=_slicedToArray(_useState,2),userRegistration=_useState2[0],setUserRegistration=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),errorpass=_useState8[0],setErrorPass=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isSubmit=_useState10[0],setIsSubmit=_useState10[1];var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.value;console.log(name,value);setUserRegistration(_objectSpread(_objectSpread({},userRegistration),{},_defineProperty({},name,value)));};useEffect(function(){console.log(formErrors);if(Object.keys(formErrors).length===0&&isSubmit){console.log(userRegistration);}},[formErrors]);// function for validating the form//\nvar validate=function validate(values){var errors={};if(!values.username){errors.username=\"Username is required! \";}if(!values.email){errors.email=\"Email is required! \";}if(!values.password){errors.password=\"Password is required! \";}return errors;};var handleSubmit=function handleSubmit(e){e.preventDefault();setFormErrors(validate(userRegistration));setIsSubmit(true);var Data={\"username\":userRegistration.username,\"email\":userRegistration.email,\"password\":userRegistration.password};var config={Jsonconfig:Jsonconfig};axios.post(\"http://127.0.0.1:8000/api/register/\",Data,config).then(function(res){console.log(res);var token=localStorage.setItem('token');}).catch(function(err){console.log(err);setError(\"Registration Failed ! User with this email address already exists !\");});setUserRegistration({username:\"\",email:\"\",password:\"\"});};return/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:0,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:\" \"}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,children:[/*#__PURE__*/_jsx(Box,{className:\"register-box\",children:/*#__PURE__*/_jsx(Typography,{className:\"register-txt-typo\",children:\"Don't have an account? Register Now.\"})}),/*#__PURE__*/_jsx(Box,{className:\"register-form-box\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Box,{className:\"register-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"label-name\",children:\"UserName*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",id:\"username\",value:userRegistration.username,onChange:handleChange,className:\"register-name-box\"})]}),/*#__PURE__*/_jsx(Typography,{className:\"error-message\",children:formErrors.username}),/*#__PURE__*/_jsxs(Box,{className:\"register-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"label-name\",children:\"Email*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:userRegistration.email,onChange:handleChange,className:\"register-name-box\"})]}),/*#__PURE__*/_jsx(Typography,{className:\"error-message\",children:formErrors.email}),/*#__PURE__*/_jsxs(Box,{className:\"register-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"label-name\",children:\"Password*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",value:userRegistration.password,onChange:handleChange,className:\"register-name-box\"})]}),/*#__PURE__*/_jsx(Typography,{className:\"error-message\",children:formErrors.password}),/*#__PURE__*/_jsx(Box,{className:\"submit-box\",children:/*#__PURE__*/_jsx(Button,{className:\"submit-button\",onClick:handleSubmit,children:\"Register\"})})]})}),/*#__PURE__*/_jsx(Box,{className:\"sign-in\",children:/*#__PURE__*/_jsxs(Typography,{className:\"sign-in-info\",children:[\"Already a member?\",/*#__PURE__*/_jsx(Link,{to:\"/user/login\",className:\"sign-in-link\",children:\" Sign In\"})]})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4})]})})});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","Footer","Header","Box","Button","Container","Grid","Paper","Typography","Jsonconfig","axios","Link","Cookies","Register","RegisterPage","username","email","password","cpassword","userRegistration","setUserRegistration","formErrors","setFormErrors","error","setError","errorpass","setErrorPass","isSubmit","setIsSubmit","handleChange","e","name","target","value","console","log","Object","keys","length","validate","values","errors","handleSubmit","preventDefault","Data","config","post","then","res","token","localStorage","setItem","catch","err"],"sources":["E:/final project merostay/env/core/Inner_hotel-development/src/website/screens/register.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport Footer from \"../components/footer\";\nimport Header from \"../components/header\";\nimport { Box, Button, Container, Grid, Paper, Typography } from \"@material-ui/core\";\nimport { Jsonconfig } from \"../../constant/config\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\n\nconst Register = () =>{\n    return(\n        <>\n        <Header />\n        <RegisterPage />\n        <Footer />\n        </>\n    )\n}\n\nconst RegisterPage = () =>{\n    const[ userRegistration, setUserRegistration] = useState({\n        username:\"\",\n        email:\"\",\n        password:\"\",\n        cpassword:\"\",\n });\n const[formErrors, setFormErrors] = useState({});\n const[error, setError] = useState();\n const[errorpass, setErrorPass] = useState();\n const[isSubmit, setIsSubmit] = useState(false);\nconst handleChange = (e) =>{\n    const name = e.target.name;\n    const value = e.target.value;\n    console.log(name, value);\n\n    setUserRegistration ({...userRegistration, [name]: value});\n}\nuseEffect(()=>{\n    console.log(formErrors);\n    if(Object.keys(formErrors).length === 0 && isSubmit){\n     console.log(userRegistration);\n    }\n },[formErrors]);\n // function for validating the form//\nconst validate = (values)=>{\n    const errors = {};\n    if(!values.username){\n      errors.username = \"Username is required! \"\n    }\n    if(!values.email){\n      errors.email = \"Email is required! \"\n    }\n     if(!values.password){\n       errors.password = \"Password is required! \"\n    }\n   return errors\n  };\nconst handleSubmit = (e) =>{\n    e.preventDefault();\n    setFormErrors(validate(userRegistration));\n      setIsSubmit(true);\n    const Data = {\n        \"username\":userRegistration.username,\n        \"email\":userRegistration.email,\n        \"password\":userRegistration.password,\n    }\n    const config = {Jsonconfig};\n    axios.post(`http://127.0.0.1:8000/api/register/`,Data,config)\n    .then((res)=>{\n       console.log(res);\n       const token = localStorage.setItem('token');\n     })\n      .catch((err)=>{\n       console.log(err);\n       setError(\"Registration Failed ! User with this email address already exists !\")\n    })\n    setUserRegistration({username: \"\",  email:\"\", password:\"\", })\n}\n    return(\n        <Box>\n        <Container>\n        <Grid container spacing={0}>\n            <Grid item xs={4}> </Grid>\n            <Grid item xs={4}>\n              <Box className=\"register-box\">\n                 <Typography className=\"register-txt-typo\">Don't have an account? Register Now.</Typography>\n              </Box>\n              <Box className=\"register-form-box\">\n                 <form onSubmit={handleSubmit}>\n                    <Box className=\"register-form\">\n                        <label htmlFor=\"username\" className=\"label-name\">\n                            UserName*\n                        </label>\n                        <input\n                        type=\"text\"\n                        name=\"username\"\n                        id=\"username\"\n                        value={userRegistration.username}\n                        onChange={handleChange}\n                        className=\"register-name-box\"\n                        />\n                    </Box>\n                    <Typography className=\"error-message\">{formErrors.username}</Typography>\n                    <Box className=\"register-form\">\n                        <label htmlFor=\"email\" className=\"label-name\">\n                            Email*\n                        </label>\n                        <input\n                        type=\"email\"\n                        name=\"email\"\n                        id=\"email\"\n                        value={userRegistration.email}\n                        onChange={handleChange}\n                        className=\"register-name-box\"\n                        />\n                    </Box>\n                    <Typography className=\"error-message\">{formErrors.email}</Typography>\n                    <Box className=\"register-form\">\n                        <label htmlFor=\"password\" className=\"label-name\">\n                            Password*\n                        </label>\n                        <input\n                        type=\"password\"\n                        name=\"password\"\n                        id=\"password\"\n                        value={userRegistration.password}\n                        onChange={handleChange}\n                        className=\"register-name-box\"\n                        />\n                    </Box>\n                    <Typography className=\"error-message\">{formErrors.password}</Typography>\n                    <Box className=\"submit-box\">\n                        <Button className=\"submit-button\" onClick={handleSubmit}>Register</Button>\n                    </Box>\n                 </form>\n              </Box>\n              <Box className=\"sign-in\">\n                  <Typography className=\"sign-in-info\">Already a member?<Link to='/user/login' className=\"sign-in-link\"> Sign In</Link></Typography>\n                </Box>\n            </Grid>\n            <Grid item xs={4}></Grid>\n        </Grid>\n        </Container>\n        </Box>\n    )\n}\n\nexport default Register\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}